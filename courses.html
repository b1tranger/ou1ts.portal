<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Repositories - oU1TS Portal</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- SUPABASE -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
    <!-- Auth Modal -->
    <div class="auth-modal" id="authModal">
        <div class="auth-modal-content">
            <button class="auth-modal-close" onclick="closeAuthModal()">
                <i class="fa-solid fa-xmark"></i>
            </button>
            <h2 id="authModalTitle">Login</h2>

            <div id="authError" class="auth-error"></div>
            <div id="authSuccess" class="auth-success"></div>

            <!-- Complete Profile Form (Google OAuth) -->
            <form id="completeProfileForm" style="display: none;" onsubmit="handleCompleteProfile(event)">
                <p class="auth-switch">Please add your Student ID to continue.</p>
                <div class="form-group">
                    <label for="completeStudentId">Student ID</label>
                    <input type="text" id="completeStudentId" required placeholder="At least 10 digits"
                        pattern="\d{10,}">
                </div>
                <button type="submit" class="auth-submit-btn">Save Student ID</button>
                <button type="button" class="auth-secondary-btn" onclick="handleProfileLogout()">Logout</button>
            </form>

            <!-- Login Form -->
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required placeholder="your@email.com">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required placeholder="Your password">
                </div>
                <button type="submit" class="auth-submit-btn">Login</button>
                <p class="auth-switch">
                    Don't have an account?
                    <a href="#" onclick="switchAuthMode('register'); return false;">Register</a>
                </p>
            </form>

            <!-- Register Form -->
            <form id="registerForm" style="display: none;" onsubmit="handleRegister(event)">
                <div class="form-group">
                    <label for="registerStudentId">Student ID</label>
                    <input type="text" id="registerStudentId" required placeholder="At least 10 digits"
                        pattern="\\d{10,}">
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" required placeholder="your@email.com">
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password</label>
                    <input type="password" id="registerPassword" required minlength="6" placeholder="Min 6 characters">
                </div>
                <div class="form-group">
                    <label for="registerConfirmPassword">Confirm Password</label>
                    <input type="password" id="registerConfirmPassword" required placeholder="Confirm password">
                </div>
                <button type="submit" class="auth-submit-btn">Register</button>
                <p class="auth-switch">
                    Already have an account?
                    <a href="#" onclick="switchAuthMode('login'); return false;">Login</a>
                </p>
            </form>
        </div>
    </div>

    <div class="category-page">
        <header class="category-header">
            <a href="index.html" class="back-btn">
                <i class="fa-solid fa-arrow-left"></i>
                Back
            </a>
            <div class="category-icon" style="background: linear-gradient(135deg, #e0f7fa, #b2ebf2);">
                <i class="fa-brands fa-github" style="color: #00838f;"></i>
            </div>
            <div class="category-info">
                <h1>Course Repositories</h1>
                <p>GitHub Repositories</p>
            </div>
            <div class="header-actions">
                <a href="https://forms.gle/UR1HSavWJYdPBPnC8" target="_blank" class="add-link-btn">
                    <i class="fa-solid fa-plus"></i>
                    ADD REPO
                </a>
                <!-- Auth Section -->
                <button class="auth-btn" id="authBtn" onclick="openAuthModal('login')">
                    <i class="fa-solid fa-right-to-bracket"></i>
                </button>
                <div class="user-info" id="userInfo" style="display: none;">
                    <div class="user-details" id="userDetails"></div>
                    <button class="logout-btn" id="logoutBtn" onclick="handleLogout()">
                        <i class="fa-solid fa-right-from-bracket"></i>
                    </button>
                </div>
            </div>
        </header>

        <div class="course-list">
            <!-- CSE0613112-SPL-Lab -->
            <div class="course-dropdown">
                <button class="course-header" onclick="toggleDropdown(this)">
                    <span><i class="fa-solid fa-code"></i> Structured Programming Language (CSE0613112-SPL)</span>
                    <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="course-content">
                    <div class="repo-item" data-resource-id="courses-spl-b1tranger">
                        <i class="fa-brands fa-github"></i>
                        <div class="repo-info">
                            <a href="https://github.com/b1tranger/CSE0613112-SPL-Lab"
                                target="_blank">@b1tranger/0432410005101088</a>
                            <p>b1tranger/CSE0613112-SPL-Lab</p>
                        </div>
                        <button class="star-btn disabled" onclick="Stars.toggleStar('courses-spl-b1tranger')"
                            title="Login to star resources">
                            <i class="fa-solid fa-star"></i>
                            <span class="star-count">0</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Web Development -->
            <div class="course-dropdown">
                <button class="course-header" onclick="toggleDropdown(this)">
                    <span><i class="fa-solid fa-globe"></i> Web Application Design Lab (CSE0613124)</span>
                    <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="course-content">
                    <div class="repo-item" data-resource-id="courses-wad-b1tranger">
                        <i class="fa-brands fa-github"></i>
                        <div class="repo-info">
                            <a href="https://github.com/b1tranger/CSE0613124-WAD-Lab"
                                target="_blank">@b1tranger/0432410005101088</a>
                            <p>b1tranger/CSE0613124-WAD-Lab</p>
                        </div>
                        <button class="star-btn disabled" onclick="Stars.toggleStar('courses-wad-b1tranger')"
                            title="Login to star resources">
                            <i class="fa-solid fa-star"></i>
                            <span class="star-count">0</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Object Oriented Programming -->
            <div class="course-dropdown">
                <button class="course-header" onclick="toggleDropdown(this)">
                    <span><i class="fa-solid fa-cubes"></i> Object Oriented Programming (CSE 202/CSE0613122)</span>
                    <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="course-content">
                    <div class="repo-item" data-resource-id="courses-oop-b1tranger">
                        <i class="fa-brands fa-github"></i>
                        <div class="repo-info">
                            <a href="https://github.com/b1tranger/CSE0613122-OOP-Lab"
                                target="_blank">@b1tranger/0432410005101088</a>
                            <p>b1tranger/CSE0613122-OOP-Lab</p>
                        </div>
                        <button class="star-btn disabled" onclick="Stars.toggleStar('courses-oop-b1tranger')"
                            title="Login to star resources">
                            <i class="fa-solid fa-star"></i>
                            <span class="star-count">0</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Database Management -->
            <div class="course-dropdown">
                <button class="course-header" onclick="toggleDropdown(this)">
                    <span><i class="fa-solid fa-database"></i> Database Management (CSE 301/CSE0612216)</span>
                    <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="course-content">
                    <div class="repo-item" data-resource-id="courses-dbms-b1tranger">
                        <i class="fa-brands fa-github"></i>
                        <div class="repo-info">
                            <a href="https://github.com/b1tranger/CSE0612216-DBMS-Lab"
                                target="_blank">@b1tranger/0432410005101088</a>
                            <p>b1tranger/CSE0612216-DBMS-Lab</p>
                        </div>
                        <button class="star-btn disabled" onclick="Stars.toggleStar('courses-dbms-b1tranger')"
                            title="Login to star resources">
                            <i class="fa-solid fa-star"></i>
                            <span class="star-count">0</span>
                        </button>
                    </div>
                </div>
            </div>


            <!-- DSA 1 -->
            <div class="course-dropdown">
                <button class="course-header" onclick="toggleDropdown(this)">
                    <span><i class="fa-solid fa-diagram-project"></i> Data Structures and Algorithms - 1
                        (CSE0612223)</span>
                    <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="course-content">
                    <div class="repo-item" data-resource-id="courses-dsa1-b1tranger">
                        <i class="fa-brands fa-github"></i>
                        <div class="repo-info">
                            <a href="https://github.com/b1tranger/CSE0612223-DSA-1-Lab"
                                target="_blank">@b1tranger/0432410005101088</a>
                            <p>b1tranger/CSE0612223-DSA-1-Lab</p>
                        </div>
                        <button class="star-btn disabled" onclick="Stars.toggleStar('courses-dsa1-b1tranger')"
                            title="Login to star resources">
                            <i class="fa-solid fa-star"></i>
                            <span class="star-count">0</span>
                        </button>
                    </div>
                    <div class="repo-item" data-resource-id="courses-dsa1-robiul">
                        <i class="fa-brands fa-github"></i>
                        <div class="repo-info">
                            <a href="https://drive.google.com/drive/u/0/folders/1sQzOBsZK6u9HCRU-uO0Jdg8c7LRak4XL"
                                target="_blank">@Md. Robiul Hassan/0432310005101096</a>
                            <p>Building-a-To-Do-List-Application-with-C | <a href="https://t.me/oUITS_res/2906/3832"
                                    target="_blank">Backup</a>
                                <br>
                                0432310005101096@uits.edu.bd
                                | +8801997601347 (WhatsApp)
                            </p>
                        </div>
                        <button class="star-btn disabled" onclick="Stars.toggleStar('courses-dsa1-robiul')"
                            title="Login to star resources">
                            <i class="fa-solid fa-star"></i>
                            <span class="star-count">0</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- DSA 2 -->
            <div class="course-dropdown">
                <button class="course-header" onclick="toggleDropdown(this)">
                    <span><i class="fa-solid fa-diagram-project"></i> Data Structures and Algorithms - 2
                        (CSE0613222)</span>
                    <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="course-content">
                    <!-- Empty for now -->
                </div>
            </div>

            <!-- Software Engineering and System Analysis-->
            <div class="course-dropdown">
                <button class="course-header" onclick="toggleDropdown(this)">
                    <span><i class="fa-solid fa-code"></i> Software Engineering and System Analysis Lab
                        (CSE0613226)</span>
                    <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="course-content">
                    <div class="repo-item" data-resource-id="courses-sesa-b1tranger">
                        <i class="fa-brands fa-github"></i>
                        <div class="repo-info">
                            <a href="https://github.com/b1tranger/Support-Hero_SESA-Lab-Project"
                                target="_blank">@b1tranger/0432410005101088</a>
                            <p>b1tranger/Support-Hero_SESA-Lab-Project<br>"Support Hero" is a community-driven platform
                                where users can create and accept support services, donate transparently, and help build
                                a network of trust and assistance. This is a Lab project for our Software Engineering
                                and System Analysis Lab (CSE0613226).<br><a
                                    href="https://github.com/b1tranger">Dev-1(88)</a>, <a
                                    href="https://github.com/JubairAhammedJubu">Dev-2(112)</a>, <a
                                    href="https://github.com/Amit12Roy">Dev-3(70)</a>, Dev-4(75) | <a
                                    href="https://github.com/oU1TS/Support-Hero_SESA-Lab-Project.cse55.b1tranger.ou1ts">Fork</a>
                            </p>
                        </div>
                        <button class="star-btn disabled" onclick="Stars.toggleStar('courses-sesa-b1tranger')"
                            title="Login to star resources">
                            <i class="fa-solid fa-star"></i>
                            <span class="star-count">0</span>
                        </button>
                    </div>
                </div>
                <div class="course-content">
                    <div class="repo-item" data-resource-id="courses-sesa-sadiasemim139-ops">
                        <i class="fa-brands fa-github"></i>
                        <div class="repo-info">
                            <a href="https://github.com/sadiasemim139-ops/sesa" target="_blank">@Sadia
                                Islam/0432410005101096</a>
                            <p>sadiasemim139-ops/sesa<br>software_Engineering-and-system-Analysis.<br><a
                                    href="https://github.com/sadiasemim139-ops" target="_blank">Dev-1(96)</a>, <a
                                    href="https://github.com/jannatulferdus182003" target="_blank">Dev-2(58)</a>, Dev-3, Dev-4 | <a
                                    href="https://github.com/oU1TS/sesa.cse55.sadiasemim139-ops.ou1ts" target="_blank">Fork</a>
                            </p>
                        </div>
                        <button class="star-btn disabled" onclick="Stars.toggleStar('courses-sesa-sadiasemim139-ops')"
                            title="Login to star resources">
                            <i class="fa-solid fa-star"></i>
                            <span class="star-count">0</span>
                        </button>
                    </div>
                </div>
                <div class="course-content">
                    <div class="repo-item" data-resource-id="courses-sesa-Binary-Eclipse">
                        <i class="fa-brands fa-github"></i>
                        <div class="repo-info">
                            <a href="https://github.com/Binary-Eclipse/Software-Engineering-and-System-Analysis-Project" target="_blank">@Helal Uddin Patwary/0432410005101086</a>
                            <p class-repo-info>Binary-Eclipse/Software-Engineering-and-System-Analysis-Project<br>This web-based project, SavePaws Club, helps report and rescue animals by sharing live locations and contacting rescue teams. It offers offline emergency info, pet adoption, a marketplace, vet consultations, blogs, and volunteering. Built with modern web tech, it promotes animal welfare through community and tech.<br><a
                                    href="https://github.com/Binary-Eclipse" target="_blank">Dev-1(86)</a>, <a
                                    href="https://github.com/jannatulferdus182003" target="_blank">Dev-2(69)</a>, <a href="https://github.com/ORNOB-083" target="_blank">Dev-3(83)</a>, <a href="https://github.com/shamiurhasan100" target="_blank">Dev-4(53)</a> | <a
                                    href="https://github.com/oU1TS/Software-Engineering-and-System-Analysis-Project.cse55.Binary-Eclipse.ou1ts" target="_blank">Fork</a>
                            </p>
                        </div>
                        <button class="star-btn disabled" onclick="Stars.toggleStar('courses-sesa-Binary-Eclipse')"
                            title="Login to star resources">
                            <i class="fa-solid fa-star"></i>
                            <span class="star-count">0</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- CSE0613316-SPDD-Project-Design -->
            <div class="course-dropdown">
                <button class="course-header" onclick="toggleDropdown(this)">
                    <span><i class="fa-solid fa-code"></i> Software Project Design and Development Lab
                        (CSE0613316)</span>
                    <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="course-content">
                    <div class="repo-item" data-resource-id="courses-spdd-b1tranger">
                        <i class="fa-brands fa-github"></i>
                        <div class="repo-info">
                            <a href="https://github.com/b1tranger/CSE0613316-SPDD-Project-Design"
                                target="_blank">@b1tranger/0432410005101088</a>
                            <p>b1tranger/CSE0613316-SPDD-Project-Design</p>
                        </div>
                        <button class="star-btn disabled" onclick="Stars.toggleStar('courses-spdd-b1tranger')"
                            title="Login to star resources">
                            <i class="fa-solid fa-star"></i>
                            <span class="star-count">0</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- CSE0613312-AI-Lab -->
            <div class="course-dropdown">
                <button class="course-header" onclick="toggleDropdown(this)">
                    <span><i class="fa-solid fa-code"></i> Artificial Intelligence Lab (CSE0613312)</span>
                    <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="course-content">
                    <div class="repo-item" data-resource-id="courses-ai-b1tranger">
                        <i class="fa-brands fa-github"></i>
                        <div class="repo-info">
                            <a href="https://github.com/b1tranger/CSE0613312-AI-Lab"
                                target="_blank">@b1tranger/0432410005101088</a>
                            <p>b1tranger/CSE0613312-AI-Lab</p>
                        </div>
                        <button class="star-btn disabled" onclick="Stars.toggleStar('courses-ai-b1tranger')"
                            title="Login to star resources">
                            <i class="fa-solid fa-star"></i>
                            <span class="star-count">0</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- CSE 358 Computer Graphics & Multimedia Lab -->
            <div class="course-dropdown">
                <button class="course-header" onclick="toggleDropdown(this)">
                    <span><i class="fa-solid fa-code"></i> Computer Graphics & Multimedia Lab (CSE 358)</span>
                    <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="course-content">
                    <div class="repo-item" data-resource-id="courses-cg-monotheist">
                        <i class="fa-brands fa-github"></i>
                        <div class="repo-info">
                            <a href="https://github.com/Monotheist0/CSE358-ComputerGraphics-Lab--0432320005101064-"
                                target="_blank">Md. Masud Rahman (@Monotheist0)/0432320005101064</a>
                            <p>Monotheist0/CSE358-ComputerGraphics-Lab--0432320005101064-<br>This repository contains
                                the lab assignments for the CSE 358 course.<br><a
                                    href="https://github.com/oU1TS/CSE358-ComputerGraphics-Lab.Monotheist0.cse54" target="_blank">Fork</a>
                            </p>
                        </div>
                        <button class="star-btn disabled" onclick="Stars.toggleStar('courses-cg-monotheist')"
                            title="Login to star resources">
                            <i class="fa-solid fa-star"></i>
                            <span class="star-count">0</span>
                        </button>
                    </div>
                </div>
                <div class="course-content">
                    <div class="repo-item" data-resource-id="courses-cg-Arriesgado47">
                        <i class="fa-brands fa-github"></i>
                        <div class="repo-info">
                            <a href="https://github.com/Arriesgado47/Graphics-Lab" target="_blank">Md. Robiul Hassan
                                (Arriesgado47)/0432310005101096</a>
                            <p class="repo-info">Arriesgado47/Graphics-Lab<br>Here, all the assignments will be alligned
                                and updated throughout the course time... Have a look to find anything that you may
                                need, specially if you are from UITS!<br><a
                                    href="https://github.com/oU1TS/Graphics-Lab.ou1ts.cse53.Arriesgado47" target="_blank">Fork</a></p>
                        </div>
                        <button class="star-btn disabled" onclick="Stars.toggleStar('courses-cg-Arriesgado47')"
                            title="Login to star resources">
                            <i class="fa-solid fa-star"></i>
                            <span class="star-count">0</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/supabase-config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/stars.js"></script>
    <script>
        function toggleDropdown(button) {
            const dropdown = button.parentElement;
            dropdown.classList.toggle('active');
        }

        // Custom per-dropdown star sorting for courses page
        const CoursesStars = {
            resourceType: 'courses',

            async init() {
                await this.loadStarCounts();
                this.sortAllDropdowns();

                // Update UI based on auth state
                window.addEventListener('authStateChanged', () => {
                    this.updateStarButtons();
                });
            },

            async loadStarCounts() {
                try {
                    // Get all resource IDs from the page
                    const items = document.querySelectorAll('[data-resource-id]');
                    const resourceIds = Array.from(items).map(item => item.dataset.resourceId);

                    if (resourceIds.length === 0) return;

                    // Fetch star counts from Supabase
                    const { data, error } = await window.supabaseClient
                        .from('stars')
                        .select('resource_id')
                        .eq('resource_type', this.resourceType)
                        .in('resource_id', resourceIds);

                    if (error) throw error;

                    // Count stars per resource
                    const starCounts = {};
                    resourceIds.forEach(id => starCounts[id] = 0);
                    if (data) {
                        data.forEach(star => {
                            starCounts[star.resource_id] = (starCounts[star.resource_id] || 0) + 1;
                        });
                    }

                    // Update UI with counts
                    items.forEach(item => {
                        const resourceId = item.dataset.resourceId;
                        const countEl = item.querySelector('.star-count');
                        if (countEl) {
                            countEl.textContent = starCounts[resourceId] || 0;
                        }
                    });

                    // Check which resources current user has starred
                    await this.loadUserStars(resourceIds);
                } catch (err) {
                    console.error('Error loading star counts:', err);
                }
            },

            async loadUserStars(resourceIds) {
                try {
                    const { data: { user } } = await window.supabaseClient.auth.getUser();
                    if (!user) return;

                    const { data, error } = await window.supabaseClient
                        .from('stars')
                        .select('resource_id')
                        .eq('user_id', user.id)
                        .eq('resource_type', this.resourceType)
                        .in('resource_id', resourceIds);

                    if (error) throw error;

                    // Mark starred items
                    if (data) {
                        data.forEach(star => {
                            const item = document.querySelector(`[data-resource-id="${star.resource_id}"]`);
                            if (item) {
                                const btn = item.querySelector('.star-btn');
                                if (btn) btn.classList.add('starred');
                            }
                        });
                    }

                    this.updateStarButtons();
                } catch (err) {
                    console.error('Error loading user stars:', err);
                }
            },

            updateStarButtons() {
                const isLoggedIn = window.Auth && window.Auth.currentUser;
                document.querySelectorAll('.star-btn').forEach(btn => {
                    if (isLoggedIn) {
                        btn.classList.remove('disabled');
                        btn.title = 'Click to star this resource';
                    } else {
                        btn.classList.add('disabled');
                        btn.title = 'Login to star resources';
                    }
                });
            },

            sortAllDropdowns() {
                // Sort items within each dropdown separately
                document.querySelectorAll('.course-content').forEach(content => {
                    const items = Array.from(content.querySelectorAll('.repo-item'));
                    if (items.length <= 1) return;

                    // Sort by star count (descending)
                    items.sort((a, b) => {
                        const countA = parseInt(a.querySelector('.star-count')?.textContent || '0');
                        const countB = parseInt(b.querySelector('.star-count')?.textContent || '0');
                        return countB - countA;
                    });

                    // Re-append in sorted order
                    items.forEach(item => content.appendChild(item));
                });
            },

            async toggleStar(resourceId) {
                if (!window.Auth || !window.Auth.currentUser) {
                    openAuthModal('login');
                    return;
                }

                const item = document.querySelector(`[data-resource-id="${resourceId}"]`);
                const btn = item?.querySelector('.star-btn');
                const countEl = item?.querySelector('.star-count');
                if (!btn || !countEl) return;

                const isStarred = btn.classList.contains('starred');

                try {
                    if (isStarred) {
                        // Remove star
                        const { error } = await window.supabaseClient
                            .from('stars')
                            .delete()
                            .eq('user_id', window.Auth.currentUser.id)
                            .eq('resource_id', resourceId)
                            .eq('resource_type', this.resourceType);

                        if (error) throw error;

                        btn.classList.remove('starred');
                        countEl.textContent = Math.max(0, parseInt(countEl.textContent) - 1);
                    } else {
                        // Add star
                        const { error } = await window.supabaseClient
                            .from('stars')
                            .insert({
                                user_id: window.Auth.currentUser.id,
                                resource_id: resourceId,
                                resource_type: this.resourceType
                            });

                        if (error) throw error;

                        btn.classList.add('starred');
                        countEl.textContent = parseInt(countEl.textContent) + 1;
                    }

                    // Re-sort just this dropdown section
                    const dropdown = item.closest('.course-content');
                    if (dropdown) {
                        const items = Array.from(dropdown.querySelectorAll('.repo-item'));
                        items.sort((a, b) => {
                            const countA = parseInt(a.querySelector('.star-count')?.textContent || '0');
                            const countB = parseInt(b.querySelector('.star-count')?.textContent || '0');
                            return countB - countA;
                        });
                        items.forEach(i => dropdown.appendChild(i));
                    }
                } catch (err) {
                    console.error('Error toggling star:', err);
                }
            }
        };

        // Override Stars.toggleStar for this page
        window.Stars = CoursesStars;

        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                CoursesStars.init();
            }, 500);
        });
    </script>
</body>

</html>